'use client';
import{__rest as e}from"tslib";import t,{useState as r,useCallback as n,useRef as a}from"react";import o from"../../assets/ExclamationFilledIcon.js";import l from"../../assets/EyeIcon.js";import s from"../../assets/EyeOffIcon.js";import{getSelectButtonColors as d,hasValue as i}from"./selectUtils.js";import{border as m}from"../../lib/shape.js";import{sizing as u}from"../../lib/sizing.js";import{spacing as c}from"../../lib/spacing.js";import{tremorTwMerge as p}from"../../lib/tremorTwMerge.js";import{mergeRefs as f}from"../../lib/utils.js";const g=t.forwardRef(((g,b)=>{const{value:h,defaultValue:k,type:x,placeholder:w="Type...",icon:E,error:v=!1,errorMessage:N,disabled:j=!1,stepper:y,makeInputClassName:C,className:I,onChange:L,onValueChange:V,autoFocus:F}=g,M=e(g,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[R,B]=r(F||!1),[O,T]=r(!1),z=n((()=>T(!O)),[O,T]),H=E,P=a(null),S=i(h||k);return t.useEffect((()=>{const e=()=>B(!0),t=()=>B(!1),r=P.current;return r&&(r.addEventListener("focus",e),r.addEventListener("blur",t),F&&r.focus()),()=>{r&&(r.removeEventListener("focus",e),r.removeEventListener("blur",t))}}),[F]),t.createElement(t.Fragment,null,t.createElement("div",{className:p(C("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100","shadow-tremor-input","dark:shadow-dark-tremor-input",d(S,j,v),R&&p("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),m.sm.all,I)},H?t.createElement(H,{className:p(C("icon"),"shrink-0","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",u.lg.height,u.lg.width,c.md.marginLeft)}):null,t.createElement("input",Object.assign({ref:f([P,b]),defaultValue:k,value:h,type:O?"text":x,className:p(C("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",H?c.sm.paddingLeft:c.lg.paddingLeft,v?c.lg.paddingRight:c.twoXl.paddingRight,c.sm.paddingY,j?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:w,disabled:j,"data-testid":"base-input",onChange:e=>{null==L||L(e),null==V||V(e.target.value)}},M)),"password"!==x||j?null:t.createElement("button",{className:p(C("toggleButton"),"mr-2"),type:"button",onClick:()=>z(),"aria-label":O?"Hide password":"Show Password"},O?t.createElement(s,{className:p("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):t.createElement(l,{className:p("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),v?t.createElement(o,{className:p(C("errorIcon"),"text-red-500 shrink-0",c.md.marginRight,u.lg.height,u.lg.width)}):null,null!=y?y:null),v&&N?t.createElement("p",{className:p(C("errorMessage"),"text-sm text-red-500 mt-1")},N):null)}));g.displayName="BaseInput";export{g as default};
