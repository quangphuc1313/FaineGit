'use client';
"use strict";var e=require("tslib"),t=require("react"),r=require("../../assets/ExclamationFilledIcon.cjs"),a=require("../../assets/EyeIcon.cjs"),n=require("../../assets/EyeOffIcon.cjs"),l=require("./selectUtils.cjs"),o=require("../../lib/shape.cjs"),s=require("../../lib/sizing.cjs"),i=require("../../lib/spacing.cjs"),u=require("../../lib/tremorTwMerge.cjs"),d=require("../../lib/utils.cjs");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=c(t);const g=m.default.forwardRef(((c,g)=>{const{value:p,defaultValue:f,type:b,placeholder:h="Type...",icon:k,error:w=!1,errorMessage:x,disabled:v=!1,stepper:E,makeInputClassName:M,className:N,onChange:j,onValueChange:q,autoFocus:T}=c,C=e.__rest(c,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus"]),[y,I]=t.useState(T||!1),[L,R]=t.useState(!1),V=t.useCallback((()=>R(!L)),[L,R]),z=k,F=t.useRef(null),S=l.hasValue(p||f);return m.default.useEffect((()=>{const e=()=>I(!0),t=()=>I(!1),r=F.current;return r&&(r.addEventListener("focus",e),r.addEventListener("blur",t),T&&r.focus()),()=>{r&&(r.removeEventListener("focus",e),r.removeEventListener("blur",t))}}),[T]),m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:u.tremorTwMerge(M("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100","shadow-tremor-input","dark:shadow-dark-tremor-input",l.getSelectButtonColors(S,v,w),y&&u.tremorTwMerge("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),o.border.sm.all,N)},z?m.default.createElement(z,{className:u.tremorTwMerge(M("icon"),"shrink-0","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",s.sizing.lg.height,s.sizing.lg.width,i.spacing.md.marginLeft)}):null,m.default.createElement("input",Object.assign({ref:d.mergeRefs([F,g]),defaultValue:f,value:p,type:L?"text":b,className:u.tremorTwMerge(M("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",z?i.spacing.sm.paddingLeft:i.spacing.lg.paddingLeft,w?i.spacing.lg.paddingRight:i.spacing.twoXl.paddingRight,i.spacing.sm.paddingY,v?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:h,disabled:v,"data-testid":"base-input",onChange:e=>{null==j||j(e),null==q||q(e.target.value)}},C)),"password"!==b||v?null:m.default.createElement("button",{className:u.tremorTwMerge(M("toggleButton"),"mr-2"),type:"button",onClick:()=>V(),"aria-label":L?"Hide password":"Show Password"},L?m.default.createElement(n,{className:u.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):m.default.createElement(a,{className:u.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),w?m.default.createElement(r,{className:u.tremorTwMerge(M("errorIcon"),"text-red-500 shrink-0",i.spacing.md.marginRight,s.sizing.lg.height,s.sizing.lg.width)}):null,null!=E?E:null),w&&x?m.default.createElement("p",{className:u.tremorTwMerge(M("errorMessage"),"text-sm text-red-500 mt-1")},x):null)}));g.displayName="BaseInput",module.exports=g;
